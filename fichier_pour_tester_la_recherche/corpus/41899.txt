 This module implements local p local navbar require navbarlocal args local origArgslocal rootlocal function union Returns the union of the values of two tables as a sequence local vals for k v in pairs do vals v true end for k v in pairs do vals v true end local ret for k v in pairs do table insert end return retendlocal function getArgNums Returns a table containing the numbers of the arguments that exist for the specified prefix For example if the prefix was data and data data and data exist it would return local nums for k v in pairs do local num tostring if num then table insert end end table sort return numsendlocal function addRow Adds a row to the infobox with either a header cell or a label data cell combination if rowArgs header then root tag addClass cssText attr tag attr attr addClass addClass css cssText wikitext elseif rowArgs data then local row root tag row addClass row cssText row attr if rowArgs label then row tag attr attr cssText wikitext done end local dataCell row tag if not rowArgs label then dataCell attr css end dataCell attr addClass cssText newline wikitext endendlocal function renderTitle if not args title then return end root tag addClass cssText wikitextendlocal function renderAboveRow if not args above then return end root tag tag attr addClass css css css cssText wikitextendlocal function renderBelowRow if not args below then return end root tag tag attr addClass css cssText newline wikitextendlocal function renderSubheaders if args subheader then args subheader args subheader end if args subheaderrowclass then args subheaderrowclass args subheaderrowclass end local subheadernums getArgNums for k num in ipairs do addRow data args subheader tostring datastyle args subheaderstyle or args subheaderstyle tostring class args subheaderclass rowclass args subheaderrowclass tostring endendlocal function renderImages if args image then args image args image end if args caption then args caption args caption end local imagenums getArgNums for k num in ipairs do local caption args caption tostring local data mw html create if caption then data tag cssText wikitext end addRow data tostring datastyle args imagestyle class args imageclass rowclass args imagerowclass tostring endendlocal function renderRows Gets the union of the header and data argument numbers and renders them all in order using addRow local rownums union table sort for k num in ipairs do addRow header args header tostring label args label tostring data args data tostring datastyle args datastyle class args class tostring rowclass args rowclass tostring rowstyle args rowstyle tostring dataid args dataid tostring labelid args labelid tostring headerid args headerid tostring rowid args rowid tostring endendlocal function renderNavBar if not args name then return end root tag tag attr css wikitext navbar args name mini endlocal function renderItalicTitle local italicTitle args italic title and mw ustring lower if italicTitle 