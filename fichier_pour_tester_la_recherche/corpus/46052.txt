 Module to build results cross tables for standings in Sports See documentation for details requirelocal p Main functionfunction p main	 Declare locals	local Args frame args	local N teams 	local t 	local t footer 	local t return 	local team list 	local ii ii fw bg col team name team code ii		 Load some other modules	local p sub require		 Read in number of consecutive teams 	while Args team N teams nil do		N teams N teams 		 Sneakily add it twice to the team list parameter once for the actual		 ranking the second for position lookup in sub tables		 This is possible because Lua allows both numbers and strings as indices 		team list N teams Args team N teams i th entry is team X		team list Args team N teams N teams team X entry is position i	end		 Get team to show	local ii show team list Args showteam nil if non existant		 Create header	 Open table	table insert 	 First column	t return count 			 Dummy parameter using subfunction call seems best at this point because both module are intertwined	t return tab text t		 Actual text	t return p sub colhead		 Other columns passed to subfunction	t return p header	t t return tab text		 Now create individual rows	for ii N teams do		 Get team info		team code ii team list ii 		team name Args name team code ii 		 	or team code ii				 Team names		table insert																			 New row		table insert	 Position number				 Then individual results		t p row	end		 Close table	table insert		 Get info for footer	local update Args update 			or unknown 	local start date Args start date 	or unknown 	local source Args source 			or frame expandTemplate title citation needed args reason No source parameter defined date os date 		 Create footer text	 Date updating	if string lower