function getProperty local entity mw wikibase getEntityObject if not entity or not entity claims then return end the entity doesnt exist or have no claims local property entity claims propertyName if not property then return end no such property for this item property property local propValue property mainsnak and property mainsnak datavalue if not propValue then return end property doesnt exist if propValue type 