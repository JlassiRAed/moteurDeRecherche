 Test loss of precision by appending a fixed digit Precision is lost Display an error message Precision is not lost Display the number Output the mathematical minus sign if negative Format according to the parameter fmt gaps Test whether the number is an integer The number is an integer Format it using for grouping digits Do not add a decimal point The number is not an integer Split the number into an integer part an a fractional part Format the integer part using for grouping digits Add a decimal point Format the fractional part using for grouping digits val delimitnum fraction The fractional part appended with an extra digit to avoid roundoff error on last displayed digit The number of decimals to display the difference of absolute values is the value of the appended digit its log gives its position nocategory category if formatting error Format using commas to the left noinclude