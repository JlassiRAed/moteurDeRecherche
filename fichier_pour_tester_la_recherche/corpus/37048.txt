 Credits A modification of Wikipedia WikiProject User scripts Scripts Formatter function autoEdWikilinks MAIN FUNCTION describes list of fixes Get the list of all wikilinks with underscores var m str match if For each wikilink in the list for var x m i toString Contains the entire wikilink Exclude URLs and leading underscores if var x arr x match var a x arr Everything before the pipe var b x arr Everything after the pipe Replace underscores with spaces a a replace Do the replacement str str replace Fix links which have no target str str replace Leading and trailing space before the pipe inside wikilinks str str replace str str replace Leading space after the pipe wikilink str str replace str str replace Trailing space after the pipe wikilink str str replace str str replace Get the list of all piped wikilinks var m str match if For each piped wikilink in the list for var n arr m i toString var n n arr Contains the entire piped link var a n arr Contains everything before pipe var b n arr Contains everything after pipe var c b replace Same as b but without trailing punctuation Is the display name a leading substring of the wikilink if 